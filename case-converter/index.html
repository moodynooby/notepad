<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple case converter tool to convert text to different cases">
    <meta name="keywords" content="case,converter,tool,text,case converter" />
    <meta name="application-name" content="Case Converter" />
    <meta name="theme-color" content="#ccff00">
    <title>Case Converter</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/cc.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="flex-navbar">
            <span class="navbar-brand generic-flex">
                <a href="/" class="brand-title">Todo.txt / </a>
                <span>Case Converter</span>
            </span>
        </div>
    </nav>

    <div class="select-case-container">
        <select id="caseSelect" class="form-control w-25 my-3">
            <option value="">Select a case</option>
            <option value="lower">Lower Case</option>
            <option value="upper">UPPER CASE</option>
            <option value="sentence">Sentence case</option>
            <option value="capitalized">Capitalized Case</option>
            <option value="alternating">aLtErNaTiNg cAsE</option>
            <option value="title">Title Case</option>
            <option value="inverse">InVeRsE CaSe</option>
        </select>
        <button class="btn btn-primary" onclick="convertCase()">Convert</button>
    </div>

    <div class="container">
        <textarea id="inputText" class="form-control" placeholder="Enter text here and select a case to convert..."
            autofocus></textarea>
        <button id="copyButton" class="btn btn-outline-secondary" type="button"
            onclick="copyToClipboard()">Copy</button>
    </div>


    <div id="toast" class="toast">
        <div class="toast-body">
        </div>
    </div>

    <script>
        function copyToClipboard() {
            const inputText = document.getElementById('inputText');

            if (!inputText.value) {
                return;
            }

            navigator.clipboard.writeText(inputText.value);

            // Change the button state to indicate copied
            const copyButton = document.getElementById('copyButton');
            copyButton.textContent = 'Copied!';
            copyButton.classList.add('btn-success');
            copyButton.classList.remove('btn-outline-secondary');

            // Reset button text after a short delay
            setTimeout(() => {
                copyButton.textContent = 'Copy';
                copyButton.classList.remove('btn-success');
                copyButton.classList.add('btn-outline-secondary');
            }, 2000);
        }

        function convertCase() {
            const inputText = document.getElementById('inputText');
            const caseType = document.getElementById('caseSelect').value;
            let outputText = '';

            if (!inputText.value) {
                showToast('Please enter text to convert.');
                return;
            }

            if (!caseType) {
                showToast('Please select a case to convert.');
                return;
            }

            switch (caseType) {
                case 'lower':
                    outputText = inputText.value.toLowerCase();
                    break;
                case 'upper':
                    outputText = inputText.value.toUpperCase();
                    break;
                case 'sentence':
                    const paragraphs = inputText.value.split('\n');
                    outputText = paragraphs.map(paragraph => {
                        const sentences = paragraph.split('. ');
                        const capitalizedSentences = sentences.map(sentence =>
                            sentence.charAt(0).toUpperCase() + sentence.slice(1).toLowerCase()
                        ).join('. ');
                        return capitalizedSentences.charAt(0).toUpperCase() + capitalizedSentences.slice(1);
                    }).join('\n');
                    break;
                case 'capitalized':
                    outputText = inputText.value.split(' ').map(word =>
                        word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()
                    ).join(' ');
                    break;
                case 'alternating':
                    outputText = inputText.value.split('').map((char, index) =>
                        index % 2 === 0 ? char.toUpperCase() : char.toLowerCase()
                    ).join('');
                    break;
                case 'title':
                    const smallWords = ['a', 'an', 'the', 'and', 'or', 'but', 'in', 'on', 'of'];
                    const paragraphsTitle = inputText.value.split('\n').map(paragraph => {
                        return paragraph.split(' ').map((word, index) => {
                            const lowerCaseWord = word.toLowerCase();
                            if (index === 0 || index === paragraph.split(' ').length - 1 || !smallWords.includes(lowerCaseWord)) {
                                return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
                            }
                            return lowerCaseWord;
                        }).join(' ');
                    }).join('\n');
                    outputText = paragraphsTitle;
                    break;
                case 'inverse':
                    outputText = inputText.value.split('').map(char =>
                        char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()
                    ).join('');
                    break;
            }

            // Update the input field with the converted text
            inputText.value = outputText;
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.querySelector('.toast-body').textContent = message;
            toast.style.display = 'block';

            setTimeout(() => {
                toast.style.display = 'none';
            }, 2000);
        }
    </script>

    <script src="js/jquery-3.5.1.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>